<!DOCTYPE html>
<html lang="en">
<head>
	<title>CSS at Pinterest</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/material/styles/screen-16x10.css">
  <link rel="stylesheet" href="index.css">
</head>
<body class="shower list">

	<header class="caption">
		<h1>CSS at Pinterest</h1>
		<p>by Christian Vuerings</p>
	</header>

	<section class="slide slide-image slide-image-intro" id="cover">
		<h2>CSS at Pinterest</h2>
		<p>by <a href="http://christianvuerings.com">Christian Vuerings</a></p>
		<style>

		</style>
	</section>

	<section class="slide">
		<h2>Agenda</h2>
		<ol>
			<li>Current state</li>
			<li>The future</li>
      <li>CSS simplification</li>
			<li>CSS gotchas &amp; layout patterns</li>
		</ol>
	</section>

	<section class="slide slide-image slide-current-state">
		<h2>Current state</h2>
	</section>

  <section class="slide">
		<h2>Current state // <span class="text-light">Overview</span></h2>
    <img src="pictures/state-overview.png" width="800">
	</section>

  <section class="slide slide-css-selector">
		<h2>Current state // <span class="text-light text-smaller">Example selector</span></h2>
    <p>
      <pre>
        <code>.ExploreTabStoryHeader .shareStoryButtonWrapper .btn.primary:active.active .ExploreTabStoryHeader .shareStoryButtonWrapper .btn.primary:active:not(.noHoverActive):active</code>
      </pre>
    </p>
    <!-- Makes me a sad panda -->
	</section>

  <section class="slide">
		<h2>Current state // <span class="text-light">Pinboard CSS</span></h2>
    <img src="pictures/specificity-graph-pinboard.png" width="800">
    <!-- A pretty bad specificity graph -->
	</section>

  <section class="slide">
		<h2>Current state // <span class="text-light">Gestalt CSS</span></h2>
    <img src="pictures/specificity-graph-gestalt.png" width="800">
    <!-- How a specificity graph should look like -->
	</section>


  <section class="slide">
		<h2>Current state // <span class="text-light">File sizes</span></h2>
    <img src="pictures/state-filesize.png" width="600">
    <p class="text-large">These are <strong>blocking requests</strong>.</p>
    <!-- Unlike images -->
	</section>

  <section class="slide">
		<h2>Current state // <span class="text-light">Font families</span></h2>
    <img src="pictures/state-font-families.png" width="800">
    <!-- Makes updating fonts globally really hard -->
	</section>

  <section class="slide">
		<h2>Current state // <span class="text-light">Media Queries</span></h2>
    <img src="pictures/state-media-queries.png" width="800">
    <!-- Makes updating fonts globally really hard -->
	</section>

	<section class="slide slide-image slide-future-intro">
		<h2>The future</h2>
	</section>

  <section class="slide">
		<h2 class="shout">Writing CSS on Pinterest.com is an anti-pattern</h2>
	</section>

  <section class="slide slide-question">
		<h2 class="shout">What do I use to style my components?</h2>
	</section>

  <section class="slide slide-hide-count">
    <img src="pictures/css-pyramid-reverse.svg" width="950">
    <!--Pinterest.com // Pyramid of styling: What we want it to look like -->
	</section>

  <section class="slide slide-question">
		<h2 class="shout">What if we disable SCSS?</h2>
	</section>

  <section class="slide slide-image slide-profile-with-desktop">
	</section>

  <section class="slide slide-image slide-profile-without-desktop">
	</section>

  <section class="slide">
		<h2>The future // <span class="text-light">Custom CSS</span></h2>
		<ol>
			<li>Max 1 CSS file per component</li>
			<li>Import CSS in JS</li>
      <li>Route based bundling</li>
      <li>BEM naming for classes</li>
		</ol>
	</section>

  <section class="slide slide-question">
		<h2 class="shout">How do we get there?</h2>
	</section>

  <section class="slide slide-image slide-css-simplification">
		<h2>CSS simplification</h2>
    <!--CSS Simplification project -->
	</section>

  <section class="slide slide-question">
		<h2 class="shout">CSS Modules conversion âœ“</h2>
	</section>

  <section class="slide slide-image slide-css-modules-removal">
	</section>

  <section class="slide slide-table">
    <h2>CSS S // <span class="text-light text-smaller">CSS Modules conversion</span></h2>
    <table>
		<tr>
			<th>Name</th>
			<th># Lines converted</th>
		</tr>
		<tr>
			<td>@dalvarez</td>
			<td>898</td>
		</tr>
    <tr>
			<td>@dani</td>
			<td>612</td>
		</tr>
    <tr>
			<td>@hfu</td>
			<td>379</td>
		</tr>
    <tr>
			<td>@joycezha</td>
			<td>275</td>
		</tr>
    <tr>
			<td>@kaanon</td>
			<td>214</td>
		</tr>
    <tr>
			<td>@jackhsu</td>
			<td>99</td>
		</tr>
    <tr>
			<td>@ablair</td>
			<td>40</td>
		</tr>
    <tr>
			<td>@btraut</td>
			<td>36</td>
		</tr>
    </table>
  </section>

  <section class="slide slide-question">
		<h2 class="shout">Sprite conversion</h2>
    <!-- No more: 2x / 3x / 4x for icons -->
    <!-- Test this by: going to a page and see whether the sprite image gets loaded -->
	</section>

  <section class="slide">
		<h2>CSS S // <span class="text-light">Sprite conversion</span></h2>
    <img src="pictures/pinterest-sprite.png" width="100%">
	</section>

  <section class="slide slide-question">
		<h2 class="shout">What should we use instead?</h2>
	</section>

  <section class="slide">
		<h2>Gestalt <code>&lt;Icon&gt;</code></h2>
    <img src="pictures/gestalt-icon-cropped.png" width="800">
	</section>

  <section class="slide slide-question">
		<h2 class="shout">CSS gotchas &amp; challenges</h2>
	</section>

  <section class="slide slide-question">
		<h2 class="shout">Why is symmetrical padding important?</h2>
	</section>

  <section class="slide slide-code">
    <iframe src="https://codesandbox.io/embed/3xlkm827m6?autoresize=1&hidenavigation=1&fontsize=14" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
    <!--
      1) Easier to reuse elements
      2) RTL support
    -->
  </section>

  <section class="slide slide-question">
		<h2 class="shout">Ready for some challenges?</h2>
	</section>

  <section class="slide slide-before-after">
    <h2>Challenge #1 // <span class="text-light text-smaller">Truncate &amp; Flex</span></h2>
    <div class="flex">
      <div>
        <h3>Before</h3>
        <img src="pictures/truncate-before.png" width="400" class="img-border">
      </div>
      <div>
        <h3>After</h3>
        <img src="pictures/truncate-after.png" width="400" class="img-border">
      </div>
    </div>
  </section>

  <section class="slide slide-code">
    <iframe src="https://codesandbox.io/embed/3rn98893np?autoresize=1&hidenavigation=1&fontsize=14" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
    <!--
      1) `flex="none"` on first container
      2) `flex="grow" on last container (or `minWidth={0}`) => More info at https://drafts.csswg.org/css-flexbox/#min-size-auto
      3) This still doesn't work in IE 11 => also set overflow="hidden" on the last container
    -->
  </section>

  <section class="slide slide-before-after">
    <h2>Challenge #2 // <span class="text-light">Responsive</span></h2>
    <div class="flex">
      <div>
        <h3>Before</h3>
        <img src="pictures/responsive-before.png" width="300" class="img-border">
      </div>
      <div>
        <h3>After</h3>
        <img src="pictures/responsive-after.png" width="300" class="img-border">
      </div>
    </div>
  </section>

  <section class="slide slide-code">
    <iframe src="https://codesandbox.io/embed/92nrjp7n7p?autoresize=1&hidenavigation=1&fontsize=14" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
    <!--
      1)`size="sm" smSize="md"` on Heading
      2)
        `wrap` on the container
        `column={6} smColumn={4}` on the first 2
        `column={12} smColumn={4}` on the last one
    -->
  </section>

    <section class="slide slide-challenge-feature">
    <h2><span class="text-light">Challenge #3</span></h2>
    <h3>Write your next feature / component using only Gestalt</h3>
  </section>

  <section class="slide slide-shout">
		<h2 class="shout">Questions?<br />
    <span style="font-size: 50px;">Ping @cvuerings in #web</span>
    </h2>
	</section>

	<script src="shower/shower.min.js"></script>
</body>
</html>
